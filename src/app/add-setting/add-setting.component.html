<div class="add-setting-container">
  <h2 class="form-title">Add Setting</h2>
  <form [formGroup]="settingForm" (ngSubmit)="onSave()" class="form-container">
    <div class="form-group">
      <label for="keyName">Key Name *</label>
      <input type="text" id="keyName" formControlName="key" maxlength="50" placeholder="Enter Key Name" class="form-control">
      <div class="error-message" *ngIf="settingForm.get('key')?.invalid && (settingForm.get('key')?.touched || settingForm.get('key')?.dirty)">
        <span *ngIf="settingForm.get('key')?.hasError('required')">Key Name is required.</span>
        <span *ngIf="settingForm.get('key')?.hasError('maxlength')">Maximum length of 50 characters exceeded.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="value">Value</label>
      <input type="text" id="value" formControlName="value" maxlength="255" placeholder="Enter Value" class="form-control">
      <div class="error-message" *ngIf="settingForm.get('value')?.invalid && (settingForm.get('value')?.touched || settingForm.get('value')?.dirty)">
        <span *ngIf="settingForm.get('value')?.hasError('maxlength')">Maximum length of 255 characters exceeded.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="appName">Application Name *</label>
      <input type="text" id="appName" formControlName="appName" maxlength="100" placeholder="Enter Application Name" class="form-control">
      <div class="error-message" *ngIf="settingForm.get('appName')?.invalid && (settingForm.get('appName')?.touched || settingForm.get('appName')?.dirty)">
        <span *ngIf="settingForm.get('appName')?.hasError('required')">Application Name is required.</span>
        <span *ngIf="settingForm.get('appName')?.hasError('maxlength')">Maximum length of 100 characters exceeded.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="version">Version Number *</label>
      <input type="text" id="version" formControlName="version" placeholder="Enter Version Number" class="form-control">
      <div class="error-message" *ngIf="settingForm.get('version')?.invalid && (settingForm.get('version')?.touched || settingForm.get('version')?.dirty)">
        <span *ngIf="settingForm.get('version')?.hasError('required')">Version Number is required.</span>
        <span *ngIf="settingForm.get('version')?.hasError('pattern')">Invalid version number format.</span>
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="cancel-button" (click)="onCancel()">Cancel</button>
      <button type="submit" class="save-button" [disabled]="settingForm.invalid">Save</button>
    </div>
  </form>

  <!-- Confirmation Dialog -->
  <app-popup *ngIf="showDialog" (close)="showDialog = false">
    <app-confirmation
      [message]="'Are you sure you want to update this setting?'"
      (confirmed)="handleDialogResult($event)">
    </app-confirmation>
  </app-popup>
</div>
